-- Drop if exists
DROP TABLE projects PURGE;
DROP TABLE employees PURGE;
DROP TABLE departments PURGE;

-- Departments Table
CREATE TABLE departments (
    dept_id   NUMBER PRIMARY KEY,
    dept_name VARCHAR2(50)
);

-- Employees Table
CREATE TABLE employees (
    emp_id    NUMBER PRIMARY KEY,
    emp_name  VARCHAR2(50),
    dept_id   NUMBER,
    salary    NUMBER(10,2),
    CONSTRAINT fk_emp_dept FOREIGN KEY (dept_id) REFERENCES departments(dept_id)
);

-- Projects Table
CREATE TABLE projects (
    proj_id   NUMBER PRIMARY KEY,
    proj_name VARCHAR2(50),
    emp_id    NUMBER,
    hours     NUMBER,
    CONSTRAINT fk_proj_emp FOREIGN KEY (emp_id) REFERENCES employees(emp_id)
);
-- Departments
INSERT INTO departments VALUES (10, 'HR');
INSERT INTO departments VALUES (20, 'Finance');
INSERT INTO departments VALUES (30, 'IT');
INSERT INTO departments VALUES (40, 'Sales');

-- Employees
INSERT INTO employees VALUES (1, 'Alice', 10, 50000);
INSERT INTO employees VALUES (2, 'Bob', 20, 60000);
INSERT INTO employees VALUES (3, 'Charlie', 30, 70000);
INSERT INTO employees VALUES (4, 'David', 30, 55000);
INSERT INTO employees VALUES (5, 'Eve', 40, 45000);

-- Projects
INSERT INTO projects VALUES (101, 'Payroll System', 2, 100);
INSERT INTO projects VALUES (102, 'Recruitment Portal', 1, 50);
INSERT INTO projects VALUES (103, 'ERP Upgrade', 3, 200);
INSERT INTO projects VALUES (104, 'Data Migration', 4, 120);
INSERT INTO projects VALUES (105, 'Sales Dashboard', 5, 80);
INSERT INTO projects VALUES (106, 'Mobile App', NULL, 0);  -- Unassigned project

COMMIT;
